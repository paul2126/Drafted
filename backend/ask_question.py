from openai import OpenAI
import environ
import tiktoken
from supabase import create_client, Client
from pathlib import Path
import os
from datetime import datetime

tokenizer = tiktoken.get_encoding("cl100k_base")  # For embedding-3 models
env = environ.Env()

environ.Env.read_env(env_file=os.path.join(os.path.dirname(__file__), ".env"))
# print(os.path.join(os.path.dirname(__file__), ".env"))

SUPABASE_URL = env("DB_URL")
SUPABASE_KEY = env("DB_KEY")

client = OpenAI(api_key=env("OPENAI_KEY"))
supabase: Client = create_client(SUPABASE_URL, SUPABASE_KEY)

# embedding_response = client.embeddings.create(
#     input="협업 과정에서 자신의 장점이 드러났던 경험과 단점을 극복한 경험을 하나씩 소개해주세요.",
#     model="text-embedding-3-small",
# )
# query_embedding = embedding_response.data[0].embedding
# print(query_embedding)

query_embedding = [
    -0.02433800883591175,
    0.01091077085584402,
    -0.006747050676494837,
    0.05460856109857559,
    0.023936834186315536,
    -0.019122721627354622,
    -0.01385880634188652,
    0.032872118055820465,
    0.025553693994879723,
    0.040312107652425766,
    0.01858782023191452,
    -0.022903501987457275,
    -0.005069405771791935,
    -0.056845422834157944,
    0.03243447095155716,
    -0.014794884249567986,
    0.026939574629068375,
    -0.022016052156686783,
    -0.01722625456750393,
    0.008570577949285507,
    0.02516467496752739,
    0.01857566460967064,
    0.013481944799423218,
    0.051642291247844696,
    0.019147034734487534,
    -0.04274347797036171,
    0.034890152513980865,
    0.00452234735712409,
    0.01049135997891426,
    0.01993723027408123,
    0.039971716701984406,
    -0.02146899327635765,
    0.04143053665757179,
    0.00962822325527668,
    0.020496446639299393,
    0.06627913564443588,
    0.05251758173108101,
    0.014588217251002789,
    0.015585078857839108,
    0.02638036012649536,
    0.06783521175384521,
    -0.005886953789740801,
    0.033042311668395996,
    0.004719896242022514,
    -0.009658616036176682,
    0.05392777919769287,
    -0.01655762642621994,
    0.04595288634300232,
    0.041795242577791214,
    0.00574714969843626,
    0.0007252319483086467,
    -0.003104554954916239,
    0.05694267526268959,
    0.013992532156407833,
    -0.005266954191029072,
    -0.009482341818511486,
    0.012679592706263065,
    0.017639586701989174,
    -0.04979445040225983,
    0.003258035285398364,
    0.0550462082028389,
    -0.01300782710313797,
    -0.0017460272647440434,
    0.05626189336180687,
    -0.017615273594856262,
    -0.032677605748176575,
    -0.012150770053267479,
    -0.017165469005703926,
    -0.027109771966934204,
    0.028519965708255768,
    0.04984307661652565,
    0.001479336409829557,
    -0.007525088731199503,
    -0.018210958689451218,
    0.022016052156686783,
    -0.05587287247180939,
    -0.013481944799423218,
    0.03595995530486107,
    -0.002510389080271125,
    -0.0009231606381945312,
    0.021760758012533188,
    -0.0607842393219471,
    -0.023098010569810867,
    -0.018636448308825493,
    -0.013761552050709724,
    -0.030999962240457535,
    -0.11680299788713455,
    -0.07522657513618469,
    0.03537642955780029,
    -0.020739583298563957,
    -0.021930953487753868,
    0.040798380970954895,
    0.012272338382899761,
    0.013141552917659283,
    0.022599579766392708,
    -0.008667832240462303,
    -0.004184994846582413,
    -0.006455286405980587,
    0.02264820784330368,
    0.043156810104846954,
    0.05810973420739174,
    -0.01925644651055336,
    -0.0004710778594017029,
    0.01522037386894226,
    0.02009527012705803,
    -0.02144468016922474,
    -0.016253706067800522,
    0.010351556353271008,
    -0.06788384169340134,
    0.00545234652236104,
    0.01996154524385929,
    0.0341121144592762,
    -0.02329252101480961,
    -0.0021122524049133062,
    0.017627429217100143,
    -0.010783123783767223,
    0.01182253472507,
    -0.041333284229040146,
    0.023936834186315536,
    -0.041795242577791214,
    -0.01570664718747139,
    0.0041454853489995,
    0.02160271815955639,
    -0.09837321192026138,
    -0.01756664551794529,
    -0.017712527886033058,
    0.030635256320238113,
    0.002461761701852083,
    -0.06637638807296753,
    -0.020836837589740753,
    0.03430662676692009,
    -0.013530571945011616,
    0.025383498519659042,
    -0.03544936701655388,
    0.02466624416410923,
    -0.010716261342167854,
    0.04395916312932968,
    0.029030553996562958,
    -0.02414350025355816,
    -0.05772071331739426,
    -0.05023209750652313,
    0.00014854148321319371,
    -0.01806507632136345,
    -0.019305074587464333,
    0.00988959614187479,
    -0.032021138817071915,
    0.060054827481508255,
    0.09749791771173477,
    -0.021675659343600273,
    0.04566112160682678,
    -0.029370944947004318,
    -0.01654547080397606,
    -0.04189249873161316,
    -0.0006549502140842378,
    -0.0020636250264942646,
    0.003104554954916239,
    -0.013250964693725109,
    0.022903501987457275,
    -0.049940332770347595,
    -0.02297644317150116,
    0.031218785792589188,
    -0.012582337483763695,
    -0.025286244228482246,
    -0.015390569344162941,
    -0.03887759894132614,
    -0.03603289648890495,
    0.005394601263105869,
    0.03248309716582298,
    -0.039631325751543045,
    -0.0688563883304596,
    -0.03989877551794052,
    -0.07717166841030121,
    -0.03603289648890495,
    -0.007354893255978823,
    0.0406038723886013,
    0.06336148828268051,
    0.004382543731480837,
    -0.0675920769572258,
    -0.025967027992010117,
    0.04726582393050194,
    -0.021760758012533188,
    0.044518377631902695,
    -0.0147705702111125,
    0.03790505230426788,
    -0.07989480346441269,
    -0.08305558562278748,
    0.026647811755537987,
    0.007999205961823463,
    0.026988202705979347,
    -0.02971133589744568,
    -0.04967287927865982,
    0.04361877217888832,
    -0.016812920570373535,
    -0.015803903341293335,
    -0.018308212980628014,
    -0.009834890253841877,
    0.03170505911111832,
    -0.0030042610596865416,
    -0.0320940800011158,
    0.007403520401567221,
    -0.018867427483201027,
    -0.024544676765799522,
    0.010856064967811108,
    0.040628187358379364,
    0.003276270581409335,
    0.012874102219939232,
    -0.028106633573770523,
    0.01037586946040392,
    -0.013749395497143269,
    -0.06345874816179276,
    0.05232307314872742,
    0.02535918541252613,
    0.026769379153847694,
    -0.003747348440811038,
    -0.006765285972505808,
    0.005570875480771065,
    0.04196543991565704,
    0.024775655940175056,
    -0.03330976516008377,
    -0.025602322071790695,
    -0.01692233234643936,
    -0.04578268900513649,
    0.03231290355324745,
    0.012193318456411362,
    0.00034855963895097375,
    0.06720305234193802,
    -0.0028021535836160183,
    -0.052468955516815186,
    0.013494101352989674,
    -0.05222582072019577,
    -0.017505861818790436,
    -0.008704302832484245,
    -0.01637527346611023,
    0.0003730632597580552,
    0.029978787526488304,
    0.03129172697663307,
    0.017359979450702667,
    -0.0022125463001430035,
    0.007038814947009087,
    0.040482304990291595,
    0.005233522970229387,
    0.03853720799088478,
    0.0025818105787038803,
    -0.04235445708036423,
    0.04921092092990875,
    -0.00019289499323349446,
    -0.015171746723353863,
    -0.0019040663028135896,
    0.01637527346611023,
    0.016691353172063828,
    0.04442112147808075,
    0.028374083340168,
    0.014393707737326622,
    -0.00027580850291997194,
    -0.0001641174458200112,
    0.007689206395298243,
    0.0358140729367733,
    -0.008205872029066086,
    0.026137223467230797,
    -0.0463419035077095,
    0.0578179694712162,
    0.00549489539116621,
    -0.0032276432029902935,
    0.021578405052423477,
    -0.06170815974473953,
    0.018150174990296364,
    -0.016776449978351593,
    0.03160780668258667,
    -0.006400580517947674,
    -0.0341121144592762,
    -0.029103493317961693,
    0.00810861773788929,
    -0.025043107569217682,
    0.04276779294013977,
    -0.03744309023022652,
    -0.00964038074016571,
    -0.0060054827481508255,
    0.03695681691169739,
    -0.01385880634188652,
    0.009579596109688282,
    -0.004583131521940231,
    0.023110168054699898,
    -0.02114075794816017,
    -0.045393671840429306,
    0.005883914418518543,
    0.03345564752817154,
    -0.005589110776782036,
    -0.004981268662959337,
    0.040141914039850235,
    0.018818801268935204,
    -0.0036288192495703697,
    -0.03382034972310066,
    -0.006534305866807699,
    -0.0036166622303426266,
    0.001812889939174056,
    0.0014124737353995442,
    -0.02317095175385475,
    -0.02601565420627594,
    0.004884013906121254,
    0.033188194036483765,
    -0.005984208546578884,
    -0.0024161734618246555,
    -0.04862739145755768,
    0.021578405052423477,
    -0.009415478445589542,
    -0.00964038074016571,
    -0.01772468350827694,
    -0.017615273594856262,
    0.0024283304810523987,
    -0.022076835855841637,
    -0.0047806804068386555,
    0.01671566627919674,
    0.01692233234643936,
    0.04782503843307495,
    0.02905486710369587,
    -0.008284891955554485,
    0.0019268604228273034,
    -0.012308808974921703,
    0.04699837416410446,
    0.032337214797735214,
    0.025894086807966232,
    0.008059990592300892,
    -0.000968748820014298,
    -0.000906444969587028,
    -0.008716460317373276,
    0.03192388266324997,
    -0.0024131343234330416,
    0.00987743865698576,
    0.02754741720855236,
    -0.01975487731397152,
    -0.03501172363758087,
    -0.025432126596570015,
    0.014916452579200268,
    -0.009768027812242508,
    0.0054918560199439526,
    -0.03058663010597229,
    -0.011792142875492573,
    0.003052888438105583,
    0.05305248498916626,
    -0.03865877538919449,
    -0.09030106663703918,
    -0.013627826236188412,
    0.010734496638178825,
    -0.01656978391110897,
    0.03780779615044594,
    -0.009117635898292065,
    0.03938818722963333,
    0.005400679539889097,
    -0.00700842309743166,
    0.012813317589461803,
    0.02128664031624794,
    -0.057185813784599304,
    -0.026963889598846436,
    -0.00937293004244566,
    -0.020350564271211624,
    -0.011263319291174412,
    -0.07148226350545883,
    0.02179722860455513,
    -0.0025605361443012953,
    0.027912123128771782,
    -0.025918399915099144,
    0.0014231110690161586,
    0.036057211458683014,
    -0.01175567228347063,
    0.012789004482328892,
    0.07668539881706238,
    -0.01842978224158287,
    -0.014077629894018173,
    -0.004388622008264065,
    0.023705853149294853,
    -0.01055822242051363,
    0.01090469304472208,
    -0.02063017152249813,
    0.029541140422225,
    -0.029881533235311508,
    0.03189956769347191,
    0.02757173217833042,
    0.014150571078062057,
    0.0111599862575531,
    0.005899110343307257,
    0.014029002748429775,
    -0.03360152617096901,
    -0.01975487731397152,
    0.0026030850131064653,
    -0.0006883814930915833,
    0.03260466456413269,
    0.02939525805413723,
    0.0032519567757844925,
    -0.025091733783483505,
    0.0371999554336071,
    0.029006239026784897,
    -0.006358031649142504,
    0.03535211458802223,
    -0.02146899327635765,
    0.04845719784498215,
    0.017359979450702667,
    -0.042330145835876465,
    0.08908538520336151,
    0.019876446574926376,
    -0.014588217251002789,
    0.0017855371115729213,
    0.0017019587103277445,
    -0.012764690443873405,
    0.02871447429060936,
    0.03496309369802475,
    0.027596045285463333,
    -0.04276779294013977,
    0.01462468784302473,
    0.022575266659259796,
    -0.02616153657436371,
    0.03462270274758339,
    -0.04777641221880913,
    0.04254896938800812,
    -0.016630567610263824,
    0.0034343095030635595,
    -0.016509000211954117,
    0.000264411442913115,
    0.0010910771088674664,
    0.019183505326509476,
    -0.052274446934461594,
    0.022867031395435333,
    0.006795677822083235,
    0.010260379873216152,
    6.961695180507377e-05,
    -0.015196059830486774,
    0.0527120940387249,
    -0.0705583468079567,
    0.019839975982904434,
    0.05276072025299072,
    -0.03299368545413017,
    -0.017359979450702667,
    0.02638036012649536,
    -0.06253482401371002,
    0.0031638196669518948,
    -0.059763066470623016,
    -0.02114075794816017,
    -0.023754481226205826,
    0.0006348154274746776,
    0.04498033598065376,
    -0.017347821965813637,
    -0.011536848731338978,
    0.0021487229969352484,
    -0.05631051957607269,
    0.012521553784608841,
    0.003098476678133011,
    -0.016180764883756638,
    -0.004929601680487394,
    0.0028249474707990885,
    -0.02162703312933445,
    0.0025726929306983948,
    -0.004923523403704166,
    -0.026088595390319824,
    0.009160185232758522,
    0.019049780443310738,
    -0.005756267346441746,
    -0.02283056080341339,
    0.015487824566662312,
    -0.011609789915382862,
    0.05023209750652313,
    0.012485083192586899,
    -0.018016448244452477,
    0.051593661308288574,
    0.041163086891174316,
    0.004400779027491808,
    0.030367806553840637,
    0.03399054706096649,
    -0.008917047642171383,
    -0.025432126596570015,
    -0.01165841706097126,
    -0.014235668815672398,
    0.014320766553282738,
    0.03532779961824417,
    0.00888057705014944,
    -0.019852133467793465,
    -0.051788173615932465,
    0.03933956101536751,
    -0.011646260507404804,
    0.03056231513619423,
    -0.021007033064961433,
    -0.01691017486155033,
    -0.017688214778900146,
    -0.012314886786043644,
    -0.0039266617968678474,
    -0.012898415327072144,
    0.06725168228149414,
    0.08485479652881622,
    -0.005865679122507572,
    -0.008765087462961674,
    0.004990386310964823,
    0.01167057454586029,
    0.01605919562280178,
    0.0054918560199439526,
    0.054462678730487823,
    -0.01182253472507,
    -0.015609392896294594,
    0.013372533023357391,
    0.018308212980628014,
    -0.018186645582318306,
    -0.019061937928199768,
    0.010351556353271008,
    -0.01401684619486332,
    8.770975546212867e-05,
    -0.00903861690312624,
    0.04087132215499878,
    0.00742783397436142,
    -0.011518613435328007,
    -0.0049599939957261086,
    -0.015998411923646927,
    0.024423107504844666,
    0.04826268553733826,
    -0.0384642668068409,
    0.021396052092313766,
    0.01890389807522297,
    -0.03126741200685501,
    -0.019219975918531418,
    -0.018016448244452477,
    -0.01175567228347063,
    -0.006105776876211166,
    0.010175282135605812,
    0.03700544685125351,
    -0.016630567610263824,
    0.009840968064963818,
    -0.014746257103979588,
    -0.027912123128771782,
    -0.004382543731480837,
    0.00431264191865921,
    -0.023778794333338737,
    -0.01012665405869484,
    -0.004422053694725037,
    0.010789202526211739,
    0.005637738388031721,
    0.01825958490371704,
    -0.016448214650154114,
    -0.00418803421780467,
    -0.01445449236780405,
    -0.02873878926038742,
    0.01756664551794529,
    -0.010734496638178825,
    -0.01275253389030695,
    0.009239204227924347,
    -0.005324699450284243,
    0.005431071855127811,
    -0.00452234735712409,
    -0.010229988023638725,
    -0.00742783397436142,
    -0.018174488097429276,
    0.0008638959843665361,
    0.019900759682059288,
    0.011761750094592571,
    0.019827818498015404,
    1.743985376378987e-05,
    -0.03243447095155716,
    -0.0046895039267838,
    0.006154404487460852,
    0.038269758224487305,
    -0.014636845327913761,
    -0.013980375602841377,
    -0.02484859712421894,
    0.006443129386752844,
    0.006984109058976173,
    0.004701660946011543,
    -0.0007111756131052971,
    -0.009549204260110855,
    -0.02010742574930191,
    0.015196059830486774,
    -0.009938223287463188,
    0.007871558889746666,
    -0.008339597843587399,
    -0.005631659645587206,
    -0.008218029513955116,
    -0.02854427881538868,
    -0.011719201691448689,
    -0.00877724401652813,
    -0.007634500507265329,
    0.018697232007980347,
    -0.012703905813395977,
    0.016594097018241882,
    -0.006716658361256123,
    0.003805093467235565,
    -0.023280363529920578,
    0.0012460768921300769,
    -0.024885067716240883,
    -0.04288936033844948,
    0.0009208812261931598,
    -0.026137223467230797,
    -0.0076952846720814705,
    0.01333606243133545,
    -0.02433800883591175,
    0.0618540421128273,
    -0.023778794333338737,
    0.011397045105695724,
    0.0005626341444440186,
    0.0015165668446570635,
    0.045515239238739014,
    0.009980772621929646,
    -0.026234477758407593,
    -0.0017764194635674357,
    0.015925470739603043,
    0.010631163604557514,
    -0.04583131894469261,
    0.029346631839871407,
    -0.016764294356107712,
    0.04019054025411606,
    -0.07785245776176453,
    -0.014515276998281479,
    0.0014968118630349636,
    -0.018624290823936462,
    -0.022708991542458534,
    0.01823527179658413,
    -0.02212546393275261,
    0.010120576247572899,
    0.021906640380620956,
    -0.003115192288532853,
    -0.03950975462794304,
    -0.010011164471507072,
    -0.027109771966934204,
    0.004139406606554985,
    0.014649001881480217,
    0.020545072853565216,
    0.010205673985183239,
    -0.008558421395719051,
    -0.006947638466954231,
    0.03493878245353699,
    -0.009689007885754108,
    0.044883083552122116,
    0.022733306512236595,
    -0.03671368211507797,
    -0.024265069514513016,
    0.010436654090881348,
    0.0277419276535511,
    -0.03223996236920357,
    0.007415677420794964,
    -0.02652624249458313,
    -0.0160470400005579,
    0.03651916980743408,
    0.02397330477833748,
    -0.012570180930197239,
    -0.0160470400005579,
    -0.007829010486602783,
    -0.03729721158742905,
    0.00972547847777605,
    -0.01622939296066761,
    -0.00477156275883317,
    -0.030878394842147827,
    0.05917953699827194,
    -0.010789202526211739,
    0.03780779615044594,
    0.05558110773563385,
    -0.0013881600461900234,
    -0.007622343488037586,
    -0.05018346756696701,
    -0.008594891987740993,
    0.02735290862619877,
    -0.007950578816235065,
    0.0066072470508515835,
    0.025067420676350594,
    -0.020314093679189682,
    -0.01807723380625248,
    -0.0026942614931613207,
    -0.013737238012254238,
    -0.03058663010597229,
    -0.003382642986252904,
    -0.029346631839871407,
    -0.02618585154414177,
    -0.016606254503130913,
    0.008546263910830021,
    -0.009445871226489544,
    -0.007373128551989794,
    0.024046245962381363,
    -0.01039410475641489,
    -0.05776934325695038,
    0.0136035131290555,
    -0.010667634196579456,
    0.0003438108542468399,
    0.01878233067691326,
    0.030294865369796753,
    -0.02486075460910797,
    -0.015560765750706196,
    -0.008169401437044144,
    -0.004659112077206373,
    0.0037959758192300797,
    0.013019984588027,
    -0.00566205196082592,
    0.002695780945941806,
    -0.0223199725151062,
    0.012558024376630783,
    0.009798419661819935,
    -0.015840372070670128,
    0.023389775305986404,
    -0.02262389473617077,
    -0.014734099619090557,
    -0.015779588371515274,
    -0.016010569408535957,
    -0.028447024524211884,
    -0.01401684619486332,
    0.011366653256118298,
    0.02516467496752739,
    -0.008218029513955116,
    0.021213699132204056,
    0.013956061564385891,
    -0.01811370439827442,
    -0.036081526428461075,
    -0.00804175529628992,
    0.012460769154131413,
    -0.03141329437494278,
    -0.0006340555846691132,
    0.028422711417078972,
    0.031510550528764725,
    0.02956545352935791,
    0.011044496670365334,
    0.0031212707981467247,
    0.01923213340342045,
    -0.009786263108253479,
    -0.011567240580916405,
    -0.02278193272650242,
    -0.01250939629971981,
    -0.02618585154414177,
    0.033528588712215424,
    0.0051271505653858185,
    -0.029614081606268883,
    0.001834164489991963,
    0.021505463868379593,
    -0.007403520401567221,
    -0.032361529767513275,
    -0.056748166680336,
    -0.009530968964099884,
    0.013579199090600014,
    0.012150770053267479,
    0.006041953340172768,
    -0.013968218117952347,
    -0.010606849566102028,
    -0.003647054312750697,
    -0.0066558741964399815,
    0.04444543644785881,
    0.005896071437746286,
    0.02533487044274807,
    -0.03211839124560356,
    0.00481107272207737,
    -0.007683128118515015,
    -0.017992135137319565,
    0.011555084027349949,
    0.008588813245296478,
    0.022174090147018433,
    0.028009377419948578,
    0.017116842791438103,
    -0.004212347790598869,
    -0.011202535592019558,
    0.03583838790655136,
    0.003975289408117533,
    -0.007464304566383362,
    -0.00954312551766634,
    0.008339597843587399,
    -0.01184077002108097,
    0.014928609132766724,
    0.019706251099705696,
    -0.029468199238181114,
    0.00804175529628992,
    0.008260577917098999,
    -0.014831354841589928,
    -0.02486075460910797,
    -0.00013239566760603338,
    0.08388224989175797,
    0.025821145623922348,
    0.040287792682647705,
    -0.0194509569555521,
    0.02263605035841465,
    0.014041159301996231,
    0.010351556353271008,
    -0.01410194393247366,
    -0.03172937408089638,
    0.03445250913500786,
    -0.053441502153873444,
    -0.031194472685456276,
    0.004461563192307949,
    0.023365462198853493,
    0.023705853149294853,
    -0.04279210418462753,
    -0.020070957019925117,
    0.0024769578594714403,
    0.02414350025355816,
    0.002013477962464094,
    0.009166263043880463,
    -0.012679592706263065,
    0.028301142156124115,
    -0.021833699196577072,
    -0.025626635178923607,
    -0.02907918021082878,
    0.00827881321310997,
    -0.02956545352935791,
    -0.01401684619486332,
    0.02907918021082878,
    -0.05149640887975693,
    0.03892622888088226,
    0.005734993144869804,
    -0.01878233067691326,
    -0.0063094040378928185,
    -0.03396623209118843,
    -0.02080036699771881,
    -0.007026658393442631,
    -0.015086648054420948,
    -0.05358738452196121,
    0.013238807208836079,
    0.03408780321478844,
    0.03126741200685501,
    0.01140312384814024,
    -0.03416074439883232,
    -0.013737238012254238,
    0.0033917606342583895,
    -0.00561950309202075,
    -0.0029890649020671844,
    -0.02569957636296749,
    0.02939525805413723,
    -0.022198405116796494,
    0.016970960423350334,
    -0.013931747525930405,
    -0.03530348837375641,
    0.02332899160683155,
    0.0381481908261776,
    -0.028447024524211884,
    0.0014686991926282644,
    0.008126853033900261,
    -0.02990584634244442,
    0.004516269080340862,
    -0.0036105839535593987,
    -0.004610484465956688,
    0.010539987124502659,
    0.013214494101703167,
    0.016192922368645668,
    0.009780184365808964,
    -0.004118132404983044,
    -0.033552899956703186,
    0.011938024312257767,
    0.007804696448147297,
    -0.014405865222215652,
    0.04237877205014229,
    -0.007482539862394333,
    -0.00036755469045601785,
    -0.023037226870656013,
    -0.005893032066524029,
    0.013032141141593456,
    -0.025383498519659042,
    -0.00031322878203354776,
    -0.034039173275232315,
    0.017481546849012375,
    0.023778794333338737,
    0.02467840164899826,
    -0.017128998413681984,
    -0.03865877538919449,
    0.011251162737607956,
    0.013068611733615398,
    -0.014138414524495602,
    0.030197611078619957,
    -0.010084105655550957,
    0.02399761788547039,
    0.028617219999432564,
    -0.0002494053333066404,
    0.009135871194303036,
    0.04339994862675667,
    -0.0073913633823394775,
    -0.02956545352935791,
    0.03138898313045502,
    -0.021165072917938232,
    0.015560765750706196,
    -0.01148822158575058,
    0.003668328979983926,
    -0.021566247567534447,
    0.017189783975481987,
    0.02706114389002323,
    -0.017992135137319565,
    -0.010023321025073528,
    0.011792142875492573,
    -0.00041903136298060417,
    0.030124669894576073,
    0.0023781834170222282,
    0.00903861690312624,
    -0.01773684099316597,
    0.014126257039606571,
    0.03600858524441719,
    0.044032104313373566,
    0.006807834841310978,
    0.05961718410253525,
    0.002770241815596819,
    -0.01976703479886055,
    0.02160271815955639,
    0.01810154691338539,
    0.005671169608831406,
    0.018636448308825493,
    0.03462270274758339,
    -0.0027368103619664907,
    -0.002484555821865797,
    0.013129395432770252,
    -0.010114497505128384,
    0.01165233924984932,
    -0.010959398932754993,
    -0.013044297695159912,
    -0.026818007230758667,
    0.015840372070670128,
    -0.056845422834157944,
    -0.005999404471367598,
    -0.007519010454416275,
    -0.025626635178923607,
    0.010053712874650955,
    0.013761552050709724,
    0.0675920769572258,
    0.026647811755537987,
    0.0017855371115729213,
    0.021845856681466103,
    -0.018210958689451218,
    0.013433316722512245,
    0.02044781856238842,
    -0.015524295158684254,
    0.012801161035895348,
    0.005823130253702402,
    -0.029468199238181114,
    -0.007749990560114384,
    0.016350960358977318,
    -0.008224107325077057,
    0.03882897272706032,
    0.008515872061252594,
    -0.0017201940063387156,
    0.02584545873105526,
    -0.01621723547577858,
    0.04850582405924797,
    -0.015341942198574543,
    -0.0032489176373928785,
    0.036908190697431564,
    -0.008114696480333805,
    0.03766191378235817,
    0.05869326367974281,
    -0.0013243366265669465,
    -0.0022672521881759167,
    -0.0007161143585108221,
    0.0409199520945549,
    0.003914505243301392,
    0.022210560739040375,
    0.005607346072793007,
    0.008327441290020943,
    0.014211355708539486,
    0.015329785645008087,
    -0.03143760934472084,
    -0.00285078096203506,
    -0.011597633361816406,
    0.0038597993552684784,
    -0.043497201055288315,
    0.0618540421128273,
    0.0008418617071583867,
    -0.0026562712155282497,
    0.018539194017648697,
    0.02415565773844719,
    0.004488916136324406,
    -0.04208700731396675,
    -0.002445046091452241,
    -0.01074057538062334,
    0.016326647251844406,
    -0.005181856453418732,
    -0.005768424365669489,
    -0.012959199957549572,
    -0.05071837082505226,
    0.026599183678627014,
    -0.045855630189180374,
    -0.025991341099143028,
    -0.005783620290458202,
    0.0190740954130888,
    -9.469044744037092e-05,
    -0.014685472473502159,
    0.0438862219452858,
    -0.019134879112243652,
    -0.023535657674074173,
    0.02655055560171604,
    0.022733306512236595,
    -0.0063276393339037895,
    0.004920484032481909,
    0.04583131894469261,
    0.006418815813958645,
    0.046025827527046204,
    -0.002671467373147607,
    0.043983474373817444,
    -0.013579199090600014,
    0.01553645171225071,
    -0.004610484465956688,
    0.009281753562390804,
    0.015341942198574543,
    0.026939574629068375,
    -0.017870565876364708,
    -0.030999962240457535,
    0.007822931744158268,
    0.02737722173333168,
    0.032872118055820465,
    -0.0028021535836160183,
    0.020897621288895607,
    0.016970960423350334,
    0.002973868977278471,
    -0.017359979450702667,
    -0.019195662811398506,
    -0.020678797736763954,
    -0.022478012368083,
    -0.03617877885699272,
    -0.02971133589744568,
    -0.034039173275232315,
    -0.007233324460685253,
    0.004969111643731594,
    0.03768622875213623,
    -0.021578405052423477,
    0.017676057294011116,
    0.005668130237609148,
    -0.015025864355266094,
    0.004406857304275036,
    0.024034088477492332,
    0.02924937568604946,
    -0.021870169788599014,
    0.04252465441823006,
    -0.003197251120582223,
    0.012497239746153355,
    -0.03955838456749916,
    -0.011202535592019558,
    -0.022854873910546303,
    -0.017992135137319565,
    0.02435016632080078,
    -0.015572922304272652,
    -0.0009261998347938061,
    0.015512137673795223,
    -0.029516827315092087,
    -0.011336260475218296,
    0.004309602547436953,
    -0.03785642609000206,
    -0.009488419629633427,
    0.03797799348831177,
    -0.018381154164671898,
    -0.005318621173501015,
    0.000673185451887548,
    -0.027401534840464592,
    -0.016010569408535957,
    -0.010345477610826492,
    -0.018843114376068115,
    -0.03972857818007469,
    -0.01607135310769081,
    -0.03595995530486107,
    0.022599579766392708,
    0.003805093467235565,
    0.008673910982906818,
    -0.02419212833046913,
    0.007743912283331156,
    0.020046642050147057,
    0.030173296108841896,
    0.0062790121883153915,
    -0.05047523230314255,
    0.009464106522500515,
    -0.005801855586469173,
    -0.018660761415958405,
    -0.012029200792312622,
    -0.02633173204958439,
    -0.018879584968090057,
    0.01844193786382675,
    0.009251361712813377,
    0.010181359946727753,
    0.0337960384786129,
    0.032337214797735214,
    -0.020399190485477448,
    -0.02467840164899826,
    0.012029200792312622,
    -0.05057248845696449,
    -0.015633706003427505,
    0.014418021775782108,
    0.0009345576982013881,
    0.04101720452308655,
    -0.009968615137040615,
    -0.0010097782360389829,
    -0.001771860639564693,
    -0.011354495771229267,
    -0.01385880634188652,
    0.017651744186878204,
    -0.00810861773788929,
    0.004184994846582413,
    0.01671566627919674,
    -0.003893230576068163,
    0.006522148847579956,
    -0.042305830866098404,
    -9.098641021410003e-05,
    0.031875256448984146,
    -0.0023584284354001284,
    0.018356841057538986,
    0.04240308701992035,
    -0.003136466722935438,
    0.00717861857265234,
    0.023851735517382622,
    0.024945851415395737,
    0.01091077085584402,
    -0.006376266945153475,
    -0.0207760538905859,
    0.011688809841871262,
    -0.010005085729062557,
    0.028617219999432564,
    0.010837829671800137,
    -0.0041302889585494995,
    0.014114100486040115,
    0.017773311585187912,
    -0.00997469387948513,
    -0.01740860566496849,
    -0.01207175012677908,
    0.02146899327635765,
    0.006795677822083235,
    -0.004625680856406689,
    0.002834065118804574,
    -0.019998015835881233,
    -0.01569449156522751,
    0.014782726764678955,
    0.00016915114247240126,
    -0.02097056247293949,
    0.0217850711196661,
    0.039971716701984406,
    0.02706114389002323,
    -0.013117238879203796,
    -0.02907918021082878,
    -0.0021943110041320324,
    0.02769329957664013,
    0.008290970697999,
    0.016010569408535957,
    -0.014418021775782108,
    0.0018402428831905127,
    0.0255050677806139,
    -0.023912519216537476,
    -0.013494101352989674,
    -0.047727786004543304,
    -0.03856152296066284,
    -0.03374740853905678,
    -0.0117435147985816,
    -0.05081562325358391,
    -0.015937628224492073,
    -0.004321759566664696,
    0.021055661141872406,
    -0.013567042537033558,
    -0.00659509003162384,
    0.005029895808547735,
    -0.005756267346441746,
    0.006941560190171003,
    0.004826268646866083,
    0.009415478445589542,
    0.005500973667949438,
    -0.014940766617655754,
    0.03805093467235565,
    0.0111599862575531,
    -0.01351841539144516,
    -0.010983712039887905,
    -0.02922506257891655,
    -0.021383896470069885,
    -0.007354893255978823,
    0.008248421363532543,
    0.07537245750427246,
    0.0038658776320517063,
    -0.030999962240457535,
    0.006272933445870876,
    0.01858782023191452,
    0.018891742452979088,
    0.005090679973363876,
    -0.024398794397711754,
    0.012764690443873405,
    0.004792837426066399,
    0.009093322791159153,
    0.01824742928147316,
    0.014126257039606571,
    0.025043107569217682,
    0.033358391374349594,
    0.02112860232591629,
    -0.03345564752817154,
    -0.03172937408089638,
    0.010649398900568485,
    0.00329754501581192,
    0.01894036866724491,
    0.011621946468949318,
    0.02735290862619877,
    0.00954312551766634,
    -0.012059593573212624,
    -0.006063228007405996,
    0.015658020973205566,
    0.008576656691730022,
    0.005780581384897232,
    0.008667832240462303,
    0.006753128953278065,
    -0.0016882822383195162,
    0.009148027747869492,
    -0.039801519364118576,
    0.011318025179207325,
    0.04259759560227394,
    0.005160581786185503,
    0.014320766553282738,
    -0.003972250036895275,
    -0.02638036012649536,
    -0.026745066046714783,
    -0.014879981987178326,
    0.0601520836353302,
    -0.008211950771510601,
    -0.004288328345865011,
    0.015560765750706196,
    -0.040628187358379364,
    0.017359979450702667,
    0.008309205994009972,
    -0.02655055560171604,
    0.014879981987178326,
    0.0006769844912923872,
    -0.06165953353047371,
    -0.02148115076124668,
    -0.004008720628917217,
    -0.016423901543021202,
    -0.011287633329629898,
    -0.020824680104851723,
    0.008838028647005558,
    -0.017627429217100143,
    0.008619205094873905,
    -0.019134879112243652,
    -0.006108816247433424,
    -0.03666505217552185,
    0.04882190003991127,
    0.015986254438757896,
    -0.02432585321366787,
    -0.006850383710116148,
    0.027936436235904694,
    -0.009154106490314007,
    -0.03831838443875313,
    0.004309602547436953,
    -0.011925867758691311,
    0.008765087462961674,
    0.008321362547576427,
    -0.0024678402114659548,
    -0.03600858524441719,
    -0.006297247484326363,
    -0.0016973998863250017,
    -0.020642327144742012,
    0.011646260507404804,
    -0.007622343488037586,
    0.02924937568604946,
    -0.01149429939687252,
    -0.025237616151571274,
    0.016630567610263824,
    -0.0012073270045220852,
    -0.032507412135601044,
    -0.00489617045968771,
    0.007519010454416275,
    -0.0004782959877047688,
    0.0533442497253418,
    0.0028067121747881174,
    -0.015378412790596485,
    0.01688586175441742,
    -0.005604307167232037,
    0.023693697527050972,
    -0.02009527012705803,
    -0.020034486427903175,
    -0.02888467162847519,
    0.01924429088830948,
    -0.030659571290016174,
    0.008218029513955116,
    0.03569250553846359,
    -0.014965079724788666,
    -0.062437571585178375,
    0.011980573646724224,
    0.036397602409124374,
    -0.029370944947004318,
    0.007433912716805935,
    0.0037351916544139385,
    0.007330579217523336,
    -0.013019984588027,
    -0.04298661649227142,
    -0.02757173217833042,
    -0.013202336616814137,
    -0.00616048276424408,
    0.00794450007379055,
    0.016472529619932175,
    0.01436939463019371,
    0.006740972399711609,
    -0.0032853882294148207,
    -0.015755275264382362,
    0.018198801204562187,
    0.015840372070670128,
    0.004832346923649311,
    0.008613127283751965,
    -0.012126456014811993,
    0.021359581500291824,
    -0.023049384355545044,
    0.00464391615241766,
    -0.005148425232619047,
    -0.00827273540198803,
    -0.0306109432131052,
    -0.027304280549287796,
    -0.010837829671800137,
    -0.020739583298563957,
    0.025723891332745552,
    -0.005273032933473587,
    -0.01225410308688879,
    -0.024593302980065346,
    -0.014187041670084,
    0.00903861690312624,
    0.0017171547515317798,
    -0.0017779390327632427,
    0.01757880300283432,
    -0.006467442959547043,
    -0.03836701065301895,
    0.01827174238860607,
    0.03109721653163433,
    0.004555778577923775,
    -0.006935481913387775,
    -0.017335664480924606,
    -0.009105479344725609,
    0.01275253389030695,
    0.0442022979259491,
    -0.023705853149294853,
    0.01641174405813217,
    -0.013822335749864578,
    -0.011767828837037086,
    0.029541140422225,
    -0.022478012368083,
    -0.023426245898008347,
    0.020994877442717552,
    0.017092527821660042,
    0.042135633528232574,
    0.04053093120455742,
    0.03090270794928074,
    0.03216702118515968,
    0.01943879947066307,
    -0.0001030482817441225,
    -0.003042251104488969,
    -0.0001368595112580806,
    0.0015773510094732046,
    0.020034486427903175,
    -0.027985064312815666,
    0.034525446593761444,
    0.03109721653163433,
    0.017603116109967232,
    0.029541140422225,
    -0.01823527179658413,
    -0.00939116533845663,
    -0.03245878592133522,
    -0.010704104788601398,
    -0.0005842885002493858,
    0.0016852430999279022,
    -0.024265069514513016,
    -0.008813714608550072,
    0.004671268630772829,
    -0.03262897953391075,
    0.017116842791438103,
    0.007889794185757637,
    0.022867031395435333,
    0.013700767420232296,
    -0.00248911464586854,
    0.039145052433013916,
    -0.01562154944986105,
    0.007689206395298243,
    -0.05324699357151985,
    0.031486235558986664,
    0.0255050677806139,
    -0.04201406612992287,
    -0.01654547080397606,
    0.006771364249289036,
    -0.035546623170375824,
    -0.03836701065301895,
    0.0008669352391734719,
    -0.009682929143309593,
    -0.009695086628198624,
    -0.028422711417078972,
    0.0022490168921649456,
    0.016472529619932175,
    -0.019292917102575302,
    0.0024116146378219128,
    0.002364506945014,
    -0.0016442136839032173,
    0.022076835855841637,
    -0.006716658361256123,
    -0.005859600845724344,
    0.01941448636353016,
    0.011275476776063442,
    -0.011117437854409218,
    -0.015779588371515274,
    -0.02043566107749939,
    0.03870740532875061,
    0.047192882746458054,
    -0.020642327144742012,
    -0.003789897309616208,
    -0.04087132215499878,
    -0.03357721492648125,
    0.0011503417044878006,
    0.008157244883477688,
    0.008497636765241623,
    0.00034248121664859354,
    -0.02735290862619877,
    0.030294865369796753,
    -0.022064678370952606,
    0.02081252448260784,
    -0.012017044238746166,
    -0.00980449840426445,
    0.02735290862619877,
    -0.001568233361467719,
    -0.005431071855127811,
    0.007932343520224094,
    0.03024623729288578,
    0.0003814210940618068,
    0.014831354841589928,
    -0.012570180930197239,
    -0.018344683572649956,
    -0.008351754397153854,
    0.03362584114074707,
    0.009032538160681725,
    -0.01435723714530468,
    0.012716063298285007,
    0.00299818255007267,
    -0.034574076533317566,
    0.003157741390168667,
    -0.031680744141340256,
    -0.04177093133330345,
    -0.006181757431477308,
    0.003893230576068163,
    -0.015487824566662312,
    0.0020924974232912064,
    -0.015755275264382362,
    -0.0016776450211182237,
    0.024094872176647186,
    -0.002404016675427556,
    -0.0011321065248921514,
    -0.02211330644786358,
    0.003583231009542942,
    -0.01184077002108097,
    0.02975996397435665,
    -0.017104685306549072,
    -0.026258790865540504,
    -0.025456439703702927,
    0.011579398065805435,
    0.015402726829051971,
    0.028301142156124115,
    0.008169401437044144,
    -0.031996823847293854,
    -0.015572922304272652,
    -0.020083112642169,
    -0.011202535592019558,
    -0.02786349505186081,
    -0.015183903276920319,
    -0.018356841057538986,
    -0.014649001881480217,
    0.020654484629631042,
    0.002958672819659114,
    0.03292074427008629,
    0.02315879613161087,
    0.016119981184601784,
    0.021347425878047943,
    0.036397602409124374,
    0.02888467162847519,
    0.029784277081489563,
    -0.040798380970954895,
    0.008886655792593956,
    0.013992532156407833,
    0.013311748392879963,
    -0.02177291549742222,
    -0.04663366824388504,
    0.007148226723074913,
    -0.01115390844643116,
    0.039777208119630814,
    0.0364462286233902,
    -0.005807934328913689,
    -0.015025864355266094,
    -0.009992929175496101,
    -0.008169401437044144,
    -0.014989393763244152,
    -0.0026182811707258224,
    -0.01788272336125374,
    -0.0037807796616107225,
    0.019681936129927635,
    -0.0070448932237923145,
    -0.00378381903283298,
    -0.006248619873076677,
    -0.040992893278598785,
    -0.0019329388160258532,
    0.002548379357904196,
    -0.0066315606236457825,
    -0.02638036012649536,
    0.019292917102575302,
    0.019049780443310738,
    0.024799970909953117,
    -0.0011571799404919147,
    -0.03197250887751579,
    0.04296230152249336,
    -0.009585674852132797,
    0.03333407640457153,
    0.013530571945011616,
    0.035887014120817184,
    -0.011852926574647427,
    -0.020654484629631042,
    -0.006424894090741873,
    -0.0018675958272069693,
    -0.03617877885699272,
    0.0033978389110416174,
    0.016618411988019943,
    0.02990584634244442,
    -0.0009968614904209971,
    0.03430662676692009,
    -0.003808132605627179,
    -0.013919590972363949,
    -0.01064332015812397,
    -0.024970166385173798,
    0.03717564046382904,
    -0.0019420564640313387,
    0.02635604701936245,
    -0.0016761254519224167,
    0.01894036866724491,
    -0.030124669894576073,
    0.02382742241024971,
    -0.0036592113319784403,
    0.05509483441710472,
    0.02249016799032688,
    0.02433800883591175,
    -0.014515276998281479,
    -0.0312430988997221,
    0.0044524455443024635,
    0.0038202893920242786,
    -0.042621910572052,
    -0.008996067568659782,
    0.0016958803171291947,
    0.05096150562167168,
    0.019195662811398506,
    -0.0036956816911697388,
    -0.00034134151064790785,
    0.009087244048714638,
    -0.008649596944451332,
    -0.03576544672250748,
    -0.009822732768952847,
    0.0026198008563369513,
    -0.006473521701991558,
    -0.011597633361816406,
    -0.003789897309616208,
    -0.03763760253787041,
    0.014831354841589928,
    -0.03936387225985527,
    0.011719201691448689,
    -0.05713718757033348,
    0.025213303044438362,
    -0.032872118055820465,
    0.005099797621369362,
    0.015633706003427505,
    -0.03515760600566864,
    -0.05995757505297661,
    -0.021748600527644157,
]
# Perform vector search (L2)
response = supabase.rpc(
    "match_documents",
    {
        "query_embedding": query_embedding,
        "match_threshold": 0.5,
        "match_count": 5,
    },
).execute()

print(response.data)
